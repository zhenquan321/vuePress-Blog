<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node.js 基础概览 | 忙 · 南易</title>
    <meta name="description" content="">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon.png">
  <link rel="icon" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.8d6b1986.css" as="style"><link rel="preload" href="/assets/js/app.32a39265.js" as="script"><link rel="preload" href="/assets/js/4.91c97ad6.js" as="script"><link rel="preload" href="/assets/js/56.48a100a1.js" as="script"><link rel="prefetch" href="/assets/js/10.a9a0b542.js"><link rel="prefetch" href="/assets/js/100.4ddc6f95.js"><link rel="prefetch" href="/assets/js/101.baf8d864.js"><link rel="prefetch" href="/assets/js/102.d6bdd45e.js"><link rel="prefetch" href="/assets/js/103.7a4765c7.js"><link rel="prefetch" href="/assets/js/104.0076f34d.js"><link rel="prefetch" href="/assets/js/105.37ea1584.js"><link rel="prefetch" href="/assets/js/106.6937d385.js"><link rel="prefetch" href="/assets/js/107.e27bb9ec.js"><link rel="prefetch" href="/assets/js/108.a38f5598.js"><link rel="prefetch" href="/assets/js/109.4760b837.js"><link rel="prefetch" href="/assets/js/11.e16d36f1.js"><link rel="prefetch" href="/assets/js/110.af95c8d6.js"><link rel="prefetch" href="/assets/js/111.1d2309e8.js"><link rel="prefetch" href="/assets/js/112.fd026dc2.js"><link rel="prefetch" href="/assets/js/113.7acf6ac5.js"><link rel="prefetch" href="/assets/js/114.f33b8b58.js"><link rel="prefetch" href="/assets/js/115.6b515cb3.js"><link rel="prefetch" href="/assets/js/116.61a9a68f.js"><link rel="prefetch" href="/assets/js/117.72716890.js"><link rel="prefetch" href="/assets/js/118.dd159b7e.js"><link rel="prefetch" href="/assets/js/119.35328686.js"><link rel="prefetch" href="/assets/js/12.59548c07.js"><link rel="prefetch" href="/assets/js/120.bd03d0bc.js"><link rel="prefetch" href="/assets/js/121.830ba600.js"><link rel="prefetch" href="/assets/js/122.25d68c9d.js"><link rel="prefetch" href="/assets/js/123.588e9383.js"><link rel="prefetch" href="/assets/js/124.7b280988.js"><link rel="prefetch" href="/assets/js/125.758d01f4.js"><link rel="prefetch" href="/assets/js/126.dd7d253d.js"><link rel="prefetch" href="/assets/js/127.fba1c422.js"><link rel="prefetch" href="/assets/js/128.2d779137.js"><link rel="prefetch" href="/assets/js/129.a93548b0.js"><link rel="prefetch" href="/assets/js/13.530976fd.js"><link rel="prefetch" href="/assets/js/130.5c9234b3.js"><link rel="prefetch" href="/assets/js/14.23bb919b.js"><link rel="prefetch" href="/assets/js/15.1b5a86dd.js"><link rel="prefetch" href="/assets/js/16.7886a4de.js"><link rel="prefetch" href="/assets/js/17.d26c28db.js"><link rel="prefetch" href="/assets/js/18.9b867385.js"><link rel="prefetch" href="/assets/js/19.04ee18af.js"><link rel="prefetch" href="/assets/js/20.681970be.js"><link rel="prefetch" href="/assets/js/21.a60874f4.js"><link rel="prefetch" href="/assets/js/22.b5a61d0c.js"><link rel="prefetch" href="/assets/js/23.1b2dff34.js"><link rel="prefetch" href="/assets/js/24.16bb6ea0.js"><link rel="prefetch" href="/assets/js/25.193a1f30.js"><link rel="prefetch" href="/assets/js/26.7df041d6.js"><link rel="prefetch" href="/assets/js/27.e3082df1.js"><link rel="prefetch" href="/assets/js/28.32a19b47.js"><link rel="prefetch" href="/assets/js/29.072b210d.js"><link rel="prefetch" href="/assets/js/3.ecb205c8.js"><link rel="prefetch" href="/assets/js/30.28457682.js"><link rel="prefetch" href="/assets/js/31.df0fb764.js"><link rel="prefetch" href="/assets/js/32.4f4768b0.js"><link rel="prefetch" href="/assets/js/33.4909261f.js"><link rel="prefetch" href="/assets/js/34.673189e3.js"><link rel="prefetch" href="/assets/js/35.7f64b13c.js"><link rel="prefetch" href="/assets/js/36.ad673f09.js"><link rel="prefetch" href="/assets/js/37.892588e5.js"><link rel="prefetch" href="/assets/js/38.8b85c87a.js"><link rel="prefetch" href="/assets/js/39.7121cd98.js"><link rel="prefetch" href="/assets/js/40.a7251bda.js"><link rel="prefetch" href="/assets/js/41.92faa07b.js"><link rel="prefetch" href="/assets/js/42.6ae7b63d.js"><link rel="prefetch" href="/assets/js/43.2fd6359d.js"><link rel="prefetch" href="/assets/js/44.622f0d9d.js"><link rel="prefetch" href="/assets/js/45.72b3049d.js"><link rel="prefetch" href="/assets/js/46.a4ece7ee.js"><link rel="prefetch" href="/assets/js/47.582a063e.js"><link rel="prefetch" href="/assets/js/48.b299c19c.js"><link rel="prefetch" href="/assets/js/49.a3406d02.js"><link rel="prefetch" href="/assets/js/5.dba0af1a.js"><link rel="prefetch" href="/assets/js/50.ade65618.js"><link rel="prefetch" href="/assets/js/51.ecbe82a4.js"><link rel="prefetch" href="/assets/js/52.2a11cc4f.js"><link rel="prefetch" href="/assets/js/53.0f9a3c8c.js"><link rel="prefetch" href="/assets/js/54.ccf1eea1.js"><link rel="prefetch" href="/assets/js/55.23dda6eb.js"><link rel="prefetch" href="/assets/js/57.f2ec7dd6.js"><link rel="prefetch" href="/assets/js/58.f1acca4e.js"><link rel="prefetch" href="/assets/js/59.e651b8f0.js"><link rel="prefetch" href="/assets/js/6.2948d63f.js"><link rel="prefetch" href="/assets/js/60.dd1d38a8.js"><link rel="prefetch" href="/assets/js/61.8b688ff7.js"><link rel="prefetch" href="/assets/js/62.a0b6af2d.js"><link rel="prefetch" href="/assets/js/63.806332d5.js"><link rel="prefetch" href="/assets/js/64.cb011209.js"><link rel="prefetch" href="/assets/js/65.edc0eb99.js"><link rel="prefetch" href="/assets/js/66.4e3ec164.js"><link rel="prefetch" href="/assets/js/67.150253e0.js"><link rel="prefetch" href="/assets/js/68.b3c8cf17.js"><link rel="prefetch" href="/assets/js/69.781892ed.js"><link rel="prefetch" href="/assets/js/7.c94748a2.js"><link rel="prefetch" href="/assets/js/70.387cff74.js"><link rel="prefetch" href="/assets/js/71.96765f9a.js"><link rel="prefetch" href="/assets/js/72.d078b13e.js"><link rel="prefetch" href="/assets/js/73.1b527ad7.js"><link rel="prefetch" href="/assets/js/74.aab74a2b.js"><link rel="prefetch" href="/assets/js/75.c3b8772d.js"><link rel="prefetch" href="/assets/js/76.b2337e48.js"><link rel="prefetch" href="/assets/js/77.2ddeadcc.js"><link rel="prefetch" href="/assets/js/78.58f5a4bd.js"><link rel="prefetch" href="/assets/js/79.d2915b24.js"><link rel="prefetch" href="/assets/js/8.42abcc83.js"><link rel="prefetch" href="/assets/js/80.3326f5ab.js"><link rel="prefetch" href="/assets/js/81.9edc96c8.js"><link rel="prefetch" href="/assets/js/82.2fa0fbab.js"><link rel="prefetch" href="/assets/js/83.f0eb0cc8.js"><link rel="prefetch" href="/assets/js/84.7858354a.js"><link rel="prefetch" href="/assets/js/85.4176cc9d.js"><link rel="prefetch" href="/assets/js/86.8aa6b18f.js"><link rel="prefetch" href="/assets/js/87.f0bebb4e.js"><link rel="prefetch" href="/assets/js/88.d74d5bac.js"><link rel="prefetch" href="/assets/js/89.63f2f7b2.js"><link rel="prefetch" href="/assets/js/9.5e7d4f9e.js"><link rel="prefetch" href="/assets/js/90.076eaea2.js"><link rel="prefetch" href="/assets/js/91.8f13fee6.js"><link rel="prefetch" href="/assets/js/92.38181e7b.js"><link rel="prefetch" href="/assets/js/93.5b7d6c4e.js"><link rel="prefetch" href="/assets/js/94.c29ad5bd.js"><link rel="prefetch" href="/assets/js/95.8198b8cb.js"><link rel="prefetch" href="/assets/js/96.d6cbe1d3.js"><link rel="prefetch" href="/assets/js/97.72af1449.js"><link rel="prefetch" href="/assets/js/98.f3d2c1ea.js"><link rel="prefetch" href="/assets/js/99.a9171fcf.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.9c5dedbe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8d6b1986.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/vuepress-blog-logo.png" alt="忙 · 南易" class="logo"> <span class="site-name can-hide">忙 · 南易</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/node/" class="nav-link router-link-active">node</a></div><div class="nav-item"><a href="/offer/" class="nav-link">offer之道</a></div><div class="nav-item"><a href="/interviewQuestions/bytedance.html" class="nav-link">大厂真题</a></div> <a href="https://github.com/zhenquan321/node-ts-dome.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    Git
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/node/" class="nav-link router-link-active">node</a></div><div class="nav-item"><a href="/offer/" class="nav-link">offer之道</a></div><div class="nav-item"><a href="/interviewQuestions/bytedance.html" class="nav-link">大厂真题</a></div> <a href="https://github.com/zhenquan321/node-ts-dome.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    Git
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>前言</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/node/" class="sidebar-link">简介</a></li><li><a href="/node/koa2/1.1Node.js的安装与配置.html" class="sidebar-link">Node.js的安装与配置</a></li><li><a href="/node/koa2/1.2Node.js基础概览.html" class="active sidebar-link">Node.js基础概览</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/node/koa2/1.2Node.js基础概览.html#node模块" class="sidebar-link">Node模块</a></li><li class="sidebar-sub-header"><a href="/node/koa2/1.2Node.js基础概览.html#npm模块管理器" class="sidebar-link">npm模块管理器</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>node后端通识</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>koa2制作博客教程</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content default"><h1 id="node-js-基础概览">Node.js 基础概览</h1> <p>在编写一个稍大的程序我们一般会将代码模块化使其更易开发维护。Node.js模块采用了<a href="http://www.commonjs.org/" target="_blank" rel="noopener noreferrer">CommonJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>规范，一个单独的文件就是一个模块。每一个模块都是一个单独的作用域。提供了 <code>require</code> 函数来调用其他模块、<code>exports</code>对象是当前模块的导出对象，用于导出模块公有方法和属性。<code>exports</code> 是指向的<code>module.exports</code> 的引用</p> <p>模块是Node.js 应用程序的基本组成部分，文件和模块是一一对应的。换言之，一个 Node.js 文件就是一个模块，这个文件可能是JavaScript 代码、JSON 或者编译过的C/C++ 扩展。</p> <p>我们都知道JavaScript先天就缺乏一种功能：<strong>模块</strong>。浏览器环境的js模块划分只能通过<code>src</code>引入使用。然而，我们是辛运的的，我们在身在这个前端高速发展的时代*(当然了，这也是一种压力，一觉醒来又有新东西诞生了)*。高速发展下社区总结出了<a href="http://www.commonjs.org/" target="_blank" rel="noopener noreferrer">CommonJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>这算得上是最为重要的里程碑。CommonJS 制定了解决这些问题的一些规范，而Node.js就是这些规范的一种实现。Node.js自身实现了require方法作为其引入模块的方法，同时NPM也是基于CommonJS定义的包规范</p> <h2 id="node模块">Node模块</h2> <p>每个文件就是一个模块，有自己的作用域。在一个文件里面定义的变量、函数、类，都是私有的，对其他文件不可见。commonJS这套规范的出现使得用户不必再考虑变量污染，命名空间这些问题了。</p> <h3 id="小示例">小示例</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// add.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> add
<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>
<span class="token comment">// index.js</span>
<span class="token keyword">const</span> add <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./add'</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_1-模块引用">1.模块引用</h4> <p><code>require()</code>这个方法存在接受一个模块标识，以此引入模块</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Node中引入模块要经历一下三步：</p> <ol><li>路径分析</li> <li>文件定位</li> <li>编译执行</li></ol> <p>Node优先从缓存中加载模块。Node的模块可分为两类：</p> <ul><li>Node提供的核心模块</li> <li>用户编写的文件模块</li></ul> <p>Node核心模块加载速度仅次于缓存中加载，然后路径形式的模块次之，最慢的是自定义模块。</p> <h4 id="_2-模块定义">2.模块定义</h4> <p>在模块中，上下文提供了<code>exports</code>来到处模块的方法或者变量。<em>它是唯一出口</em></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>exports.add = function(){
  // TODO
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在模块中还存在一个module对象，它代表模块自身，<code>exports</code>是它的属性。为了方便，Node为每个模块提供一个exports变量，指向module.exports。这等同在每个模块头部，有一行这样的命令</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var exports = module.exports
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><em>不能直接将exports变量指向一个值，因为这样等于切断了exports与module.exports的联系</em></p> <p><strong>exports和module.exports 区别</strong></p> <p>exports仅仅是module.exports的一个地址引用。nodejs只会导出module.exports的指向，如果exports指向变了，那就仅仅是exports不在指向module.exports，于是不会再被导出</p> <ul><li>module.exports才是真正的接口，exports只不过是它的一个辅助工具。最终返回给调用的是module.exports而不是exports。</li> <li>所有的exports收集到的属性和方法，都赋值给了module.exports。当然，这有个前提，就是module.exports本身不具备任何属性和方法。如果，module.exports已经具备一些属性和方法，那么exports收集来的信息将被忽略</li> <li>Node开发者建议导出对象用module.exports,导出多个方法和变量用exports</li></ul> <h2 id="npm模块管理器">npm模块管理器</h2> <p><code>npm</code>的出现则是为了在CommonJS规范的基础上，实现解决包的安装卸载，依赖管理，版本管理等问题,<code>npm</code>不需要单独安装。在安装Node的时候，会连带一起安装<code>npm</code></p> <ul><li>允许用户从NPM服务器下载别人编写的第三方包到本地使用。</li> <li>允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。</li> <li>允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。</li></ul> <h3 id="npm包">npm包</h3> <p>一个符合CommonJS规范的包应该是如下这种结构：</p> <ul><li>一个package.json文件应该存在于包顶级目录下</li> <li>二进制文件应该包含在bin目录下。</li> <li>JavaScript代码应该包含在lib目录下。</li> <li>文档应该在doc目录下。</li> <li>单元测试应该在test目录下</li></ul> <h3 id="package-json">package.json</h3> <ul><li>name：包名，需要在NPM上是唯一的，小写字母和数字组成可包含<code>_</code> <code>-</code> <code>.</code>但不能有空格</li> <li>description：包简介。通常会显示在一些列表中</li> <li>version：版本号。一个语义化的版本号（<a href="http://semver.org/" target="_blank" rel="noopener noreferrer">http://semver.org/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ），通常为x.y.z。该版本号十分重要，常常用于一些版本控制的场合</li> <li>keywords：关键字数组。用于NPM中的分类搜索</li> <li>maintainers：包维护者的数组。数组元素是一个包含name、email、web三个属性的JSON对象</li> <li>contributors：包贡献者的数组。第一个就是包的作者本人。在开源社区，如果提交的patch被merge进master分支的话，就应当加上这个贡献patch的人。格式包含name和email</li> <li>bugs：一个可以提交bug的URL地址。可以是邮件地址（mailto:mailxx@domain），也可以是网页地址</li> <li>licenses：包所使用的许可证</li> <li>repositories：托管源代码的地址数组</li> <li>dependencies：当前包需要的依赖。这个属性十分重要，NPM会通过这个属性，帮你自动加载依赖的包</li></ul> <p>除了前面提到的几个必选字段外，还有一些额外的字段，如bin、scripts、engines、devDependencies、author</p> <h3 id="npm的使用">npm的使用</h3> <p>行下面的命令，查看各种信息</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># 查看 npm 命令列表
$ npm help

# 查看各个命令的简单用法
$ npm -l

# 查看 npm 的版本
$ npm -v

# 查看 npm 的配置
$ npm config list -l
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="npm-命令安装模块">npm 命令安装模块</h4> <p>Node模块采用<code>npm install</code>命令安装。</p> <p>每个模块可以“全局安装”，也可以“本地安装”。“全局安装”指的是将一个模块安装到系统目录中，各个项目都可以调用。一般来说，全局安装只适用于工具模块。“本地安装”指的是将一个模块下载到当前项目的<code>node_modules</code>子目录，然后只有在项目目录之中，才能调用这个模块。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># 本地安装
$ npm install &lt;package name&gt;

# 全局安装
$ sudo npm install --global &lt;package name&gt;
$ sudo npm install -g &lt;package name&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>指定所安装的模块属于哪一种性质的依赖关系</p> <ul><li><code>–-save</code>：模块名将被添加到dependencies，可以简化为参数<code>-S</code>。</li> <li><code>–-save-dev</code>: 模块名将被添加到devDependencies，可以简化为参数<code>-D</code>。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ npm install &lt;package name&gt; --save
$ npm install &lt;package name&gt; --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="卸载模块">卸载模块</h4> <p>我们可以使用以下命令来卸载 Node.js 模块</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ npm uninstall &lt;package name&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="更新模块">更新模块</h4> <p>我们可以使用以下命令来更新 Node.js 模块</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ npm update &lt;package name&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="创建模块">创建模块</h4> <p>我们可以使用以下命令来创建 Node.js 模块</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ npm init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>npm init</code>创建模块会在交互命令行帮我们生产package.json文件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ npm init
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See `npm help json` for definitive documentation on these fields
and exactly what they do.

Use `npm install &lt;pkg&gt; --save` afterwards to install a package and
save it as a dependency in the package.json file.

Press ^C at any time to quit.
name: (node_modules) test                   # 模块名
version: (1.0.0) 
description: Node.js 测试模块                # 描述
entry point: (index.js) 
test command: make test
git repository: https://github.com/test/test.git  # Github 地址
keywords: 
author: 
license: (ISC) 
About to write to ……/node_modules/package.json:      # 生成地址

{
  &quot;name&quot;: &quot;test&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;Node.js 测试模块&quot;,
  ……
}


Is this ok? (yes) yes
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>以上的信息，你需要根据你自己的情况输入。默认回车即可。在最后输入 &quot;yes&quot; 后会生成 package.json 文件。</p> <h4 id="模块发布">模块发布</h4> <p>发布模块前首先要在npm注册用户</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ npm adduser
Username: liuxing
Password:
Email: (this IS public) chn.liuxing@gmail.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>然后</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ npm publish
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>现在我们的npm包就成功发布了。</p> <p><em>更多请查看npm帮助信息 <a href="https://docs.npmjs.com/" target="_blank" rel="noopener noreferrer">npm 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/zhenquan321/node-ts-dome.git/edit/master/src/node/koa2/1.2Node.js基础概览.md" target="_blank" rel="noopener noreferrer">Found a bug? Help me improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <!----> </div> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.32a39265.js" defer></script><script src="/assets/js/4.91c97ad6.js" defer></script><script src="/assets/js/56.48a100a1.js" defer></script>
  </body>
</html>
